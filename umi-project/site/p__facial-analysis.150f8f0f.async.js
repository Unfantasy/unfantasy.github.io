(self["webpackChunk"]=self["webpackChunk"]||[]).push([[19],{48097:function(e){e.exports={video:"video___2wojX",canvas:"canvas___Zy9Fg"}},19661:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return h}});r(49111);var t=r(64078),c=(r(57663),r(8573)),s=r(90636),a=r(3182),i=r(57337),o=r(67294),u=r(50835),l=r(55685),d=r(48097),f=r.n(d),v=r(85893);function h(){var e=(0,o.useState)(null),n=(0,i.Z)(e,2),r=(n[0],n[1]),d=(0,o.useRef)(null),h=(0,o.useRef)(null),x=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(n){var t;return(0,s.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r(n),console.log(d,n),!d.current){e.next=8;break}return d.current.srcObject=n,e.next=6,l.default.detectSingleFace(d.current).withFaceLandmarks().withFaceExpressions();case 6:t=e.sent,console.log("detectionWithExpressions: ",t);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),p=e=>{console.log("navigator.getUserMedia error: ",e)},g=()=>{var e={audio:!1,video:!0};navigator.mediaDevices.getUserMedia(e).then(x).catch(p)};(0,o.useEffect)((()=>{}),[]);var w=()=>{h.current&&d.current&&h.current.getContext("2d").drawImage(d.current,0,0,h.current.width,h.current.height)};return console.log("xxx",u.Z.browserDetails.browser),(0,v.jsxs)("div",{children:[(0,v.jsx)("video",{className:f().video,ref:d,autoPlay:!0,playsInline:!0,children:"\u89c6\u9891\u5728\u8fd9\u91cc"}),(0,v.jsxs)(t.Z,{children:[(0,v.jsx)(c.Z,{onClick:g,children:"\u5f00\u542f\u6444\u50cf\u5934"}),(0,v.jsx)(c.Z,{type:"primary",onClick:w,children:"\u7ed8\u56fe"})]}),(0,v.jsx)("canvas",{className:f().canvas,ref:h})]})}},64902:function(){},40522:function(){},90753:function(){},68730:function(){}}]);